<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" lang="ja">

<head>
    <meta charset="UTF-8">
    <link th:href="@{/css/style.css}" rel="stylesheet" type="text/css">
    <title>Pictweet</title>
</head>
<body>
<div th:insert="~{header :: header}"></div>


<a th:href="@{/tweetForm}">投稿する</a>

<div class="contents row">
    <form method="post">
        <div th:each="tweet:${tweetList}">
            <div class="content_post" style="background-image: url(<%= tweet.image %>);">
                <div class="more">
                    <span><%= image_tag 'arrow_top.png' %></span>
                    <ul class="more_list">
                        <li>
                            <a th:href="@{/tweet/{tweetId}(tweetId=${tweet.id})}">詳細</a>
                        </li>
                        <div th:if="${#authentication.name == tweet.user.username}">
                            <li>
                                <a class="update-button"
                                   th:href="@{/user/{userId}/tweet/{tweetId}/edit(userId=${tweet.user.id}, tweetId=${tweet.id})}">編集</a>
                            </li>
                            <li>
                                <form th:action="@{/user/{userId}/tweet/{tweetId}/delete(userId=${tweet.user.id}, tweetId=${tweet.id})}"
                                      method="post">
                                    <input class="delete-button" type="submit" value="削除">
                                </form>
                            </li>
                        </div>
                    </ul>
                </div>
                <p th:text="${tweet.getContent()}"></p>
                <span class="name">
<!--        <a href="/users/<%= tweet.user.id %>">-->
          <span>投稿者</span><div th:text="${tweet.user.getUsername()}"></div>
                    <!--        </a>-->
      </span>
            </div>
        </div>
    </form>
</div>
</body>
</html>